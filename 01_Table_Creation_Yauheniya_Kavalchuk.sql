DROP TABLE IF EXISTS sales_data;

CREATE TABLE sales_data (
	sale_id SERIAL,
	product_id Int NOT NULL,
	region_id Int NOT NULL,
	salesperson_id Int NOT NULL,
	sale_amount Numeric(6, 2) NOT NULL,
	sale_date Date,
	PRIMARY KEY(sale_id, sale_date)
) PARTITION BY RANGE (sale_date);

-- 1
CREATE TABLE sales_data_2024_04
PARTITION OF sales_data
FOR VALUES FROM ('2024-04-01') TO ('2024-05-01');

-- 2
CREATE TABLE sales_data_2024_03
PARTITION OF sales_data
FOR VALUES FROM ('2024-03-01') TO ('2024-04-01');

-- 3
CREATE TABLE sales_data_2024_02
PARTITION OF sales_data
FOR VALUES FROM ('2024-02-01') TO ('2024-03-01');

-- 4
CREATE TABLE sales_data_2024_01
PARTITION OF sales_data
FOR VALUES FROM ('2024-01-01') TO ('2024-02-01');

-- 5
CREATE TABLE sales_data_2023_12
PARTITION OF sales_data
FOR VALUES FROM ('2023-12-01') TO ('2024-01-01');

-- 6
CREATE TABLE sales_data_2023_11
PARTITION OF sales_data
FOR VALUES FROM ('2023-11-01') TO ('2023-12-01');

-- 7
CREATE TABLE sales_data_2023_10
PARTITION OF sales_data
FOR VALUES FROM ('2023-10-01') TO ('2023-11-01');

-- 8
CREATE TABLE sales_data_2023_09
PARTITION OF sales_data
FOR VALUES FROM ('2023-09-01') TO ('2023-10-01');

-- 9
CREATE TABLE sales_data_2023_08
PARTITION OF sales_data
FOR VALUES FROM ('2023-08-01') TO ('2023-09-01');

-- 10
CREATE TABLE sales_data_2023_07
PARTITION OF sales_data
FOR VALUES FROM ('2023-07-01') TO ('2023-08-01');

-- 11
CREATE TABLE sales_data_2023_06
PARTITION OF sales_data
FOR VALUES FROM ('2023-06-01') TO ('2023-07-01');

-- 12
CREATE TABLE sales_data_2023_05
PARTITION OF sales_data
FOR VALUES FROM ('2023-05-01') TO ('2023-06-01');